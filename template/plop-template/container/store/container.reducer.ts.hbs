import { handleActions } from 'redux-actions'
import { fromJS } from 'immutable'
import * as types from './cash.type'

const initState = fromJS({
  cashMethods: [], // 支付方式
  cashInfo: {}, // 支付信息
  billInfo: { vecMutiTradeDdo: [] }, // 神奇的主单 dealTotalFee 总金额, dealTotalPayment 应付金额, buyerId 用户 uid, dealCode 单据号, vecMutiTradeDdo: { tradeId 商品行id, itemTitle 商品名称, tradeNum 数量, itemBrandId 品牌id, itemClassId 类别id, 柜组id, tradeDiscountPayment 折扣金额 }
  payInfo: { billNumber: '', price: '' },
})

export const cash = handleActions(
  {
    [types.CASH_INFO_UPDATE]: (state, action) => state.set('cashInfo', action.payload),
    [types.CASH_METHODS_UPDATE]: (state, action) => state.set('cashMethods', action.payload),
    [types.BILL_INFO_UPDATE]: (state, action) => state.set('billInfo', action.payload),
    [types.PAY_INFO_UPDATE]: (state, action) => state.set('payInfo', action.payload),
  },
  initState
)
